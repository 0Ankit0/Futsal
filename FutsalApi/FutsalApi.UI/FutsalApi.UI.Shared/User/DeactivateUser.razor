
@page "/manage/deactivate-account"
@inject HttpClient Http
@inject NavigationManager NavigationManager

<PageTitle>Deactivate Account</PageTitle>

<h1>Deactivate Account</h1>

<p>Are you sure you want to deactivate your account? This action cannot be undone.</p>

<button class="btn btn-danger" @onclick="DeactivateAccount">Deactivate My Account</button>

@code {
    private async Task DeactivateAccount()
    {
        var result = await Http.PostAsync("User/manage/deactivate", null);
        if (result.IsSuccessStatusCode)
        {
            NavigationManager.NavigateTo("/login");
        }
        // Handle error cases
    }
}
